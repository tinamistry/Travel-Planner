
import { GoogleGenerativeAI } from "@google/generative-ai";


   
  const apiKey = import.meta.env.VITE_GEMINI_API_KEY;
  
  console.log("API Key:", apiKey);

  const genAI = new GoogleGenerativeAI(apiKey);
  
  const model = genAI.getGenerativeModel({
    model: "gemini-2.0-flash",
  });
  
  const generationConfig = {
    temperature: 1,
    topP: 0.95,
    topK: 40,
    maxOutputTokens: 8192,
    responseMimeType: "application/json",
  };
  
  
  
 export const chatSession = model.startChat({
      generationConfig,
      history: [
        {
          role: "user",
          parts: [
            {text: "Generate a travel plan with the location : Paris, for 3 days for a couple with a cheap budget, give me a list of hotel options with the hotelName, hotelAddress, hotelDescription, hotelImageURL,  geo coordinates, rating, and suggest itinerary with placeName, placeDetails, placeImageURL,  GeoCoordinates,  ticket pricing, rating, time to travel to each location for 3 days with best time to travel for each day and best time to visit in JSON format\n"},
          ],
        },
        {
          role: "model",
          parts: [
            {text: "Okay, here's a possible 3-day budget-friendly Paris itinerary for a couple, along with hotel suggestions and itinerary details in JSON format. I've focused on free or low-cost activities and affordable accommodation options.\n\n```json\n{\n  \"tripDetails\": {\n    \"location\": \"Paris, France\",\n    \"duration\": \"3 days\",\n    \"budget\": \"Cheap\",\n    \"travelers\": \"Couple\"\n  },\n  \"hotelOptions\": [\n    {\n      \"hotelName\": \"St Christopher's Inn Paris Gare du Nord\",\n      \"hotelAddress\": \"5 Rue de Dunkerque, 75010 Paris, France\",\n      \"hotelDescription\": \"Budget-friendly hostel with private rooms available. Great location near Gare du Nord train station. Offers a bar, common area, and free Wi-Fi.\",\n      \"hotelImageURL\": \"https://example.com/st_christophers_gare_du_nord.jpg\",\n      \"geoCoordinates\": {\n        \"latitude\": 48.8781,\n        \"longitude\": 2.3552\n      },\n      \"rating\": 4.0,\n      \"pricePerNight\": 60\n    },\n    {\n      \"hotelName\": \"Generator Paris\",\n      \"hotelAddress\": \"9-11 Place du Colonel Fabien, 75010 Paris, France\",\n      \"hotelDescription\": \"Stylish hostel with private and dorm rooms. Features a rooftop terrace, bar, and social events. Close to Canal Saint-Martin.\",\n      \"hotelImageURL\": \"https://example.com/generator_paris.jpg\",\n      \"geoCoordinates\": {\n        \"latitude\": 48.8733,\n        \"longitude\": 2.3675\n      },\n      \"rating\": 4.2,\n      \"pricePerNight\": 70\n    },\n    {\n      \"hotelName\": \"Hotel FIAP Paris\",\n      \"hotelAddress\": \"30 Rue Cabanis, 75014 Paris, France\",\n      \"hotelDescription\": \"Simple and clean hotel with a restaurant and courtyard. A bit further from the center, but well-connected by public transport. Offers affordable private rooms.\",\n      \"hotelImageURL\": \"https://example.com/fiap_paris.jpg\",\n      \"geoCoordinates\": {\n        \"latitude\": 48.8213,\n        \"longitude\": 2.3389\n      },\n      \"rating\": 3.8,\n      \"pricePerNight\": 55\n    }\n  ],\n  \"itinerary\": {\n    \"day1\": {\n      \"theme\": \"Iconic Paris & Montmartre Charm\",\n      \"bestTimeToTravel\": \"Morning to Evening\",\n      \"places\": [\n        {\n          \"placeName\": \"Eiffel Tower\",\n          \"placeDetails\": \"Visit the iconic Eiffel Tower.  Walk around the Champ de Mars for free views.  Consider climbing the stairs to the 2nd floor for a cheaper experience than the elevator.\",\n          \"placeImageURL\": \"https://example.com/eiffel_tower.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 48.8584,\n            \"longitude\": 2.2945\n          },\n          \"ticketPricing\": {\n            \"stairsTo2ndFloor\": 11.80,\n            \"elevatorToTop\": 29.40\n          },\n          \"rating\": 4.7,\n          \"timeToTravelFromHotel\": \"30-45 minutes by Metro (depending on hotel location)\",\n          \"bestTimeToVisit\": \"Early morning (9:00 AM) to avoid long queues.\"\n        },\n        {\n          \"placeName\": \"Champ de Mars\",\n          \"placeDetails\": \"Enjoy a picnic or relax at the park, with scenic views of the Eiffel Tower\",\n          \"placeImageURL\": \"https://example.com/champ_de_mars.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 48.8567,\n            \"longitude\": 2.2974\n          },\n          \"ticketPricing\": {\n            \"entranceFee\": 0\n          },\n          \"rating\": 4.6,\n          \"timeToTravelFromHotel\": \"30-45 minutes by Metro (depending on hotel location)\",\n          \"bestTimeToVisit\": \"Afternoon\"\n        },\n        {\n          \"placeName\": \"Montmartre & Sacré-Cœur Basilica\",\n          \"placeDetails\": \"Explore the artistic neighborhood of Montmartre. Visit the Sacré-Cœur Basilica (free entry). Wander around Place du Tertre to see artists at work.\",\n          \"placeImageURL\": \"https://example.com/sacre_coeur.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 48.8867,\n            \"longitude\": 2.3431\n          },\n          \"ticketPricing\": {\n            \"entranceFee\": 0,\n            \"domeAccess\": 6\n          },\n          \"rating\": 4.5,\n          \"timeToTravelFromHotel\": \"30-60 minutes by Metro (depending on hotel location and where you're coming from in Paris)\",\n          \"bestTimeToVisit\": \"Late afternoon/early evening for sunset views.\"\n        }\n      ]\n    },\n    \"day2\": {\n      \"theme\": \"Culture & Gardens\",\n      \"bestTimeToTravel\": \"Morning to Afternoon\",\n      \"places\": [\n        {\n          \"placeName\": \"Free Walking Tour\",\n          \"placeDetails\": \"Join a free walking tour of central Paris. Many companies offer these (tip-based), covering landmarks like Notre Dame (exterior), the Louvre (exterior), and the Latin Quarter.\",\n          \"placeImageURL\": \"https://example.com/free_walking_tour.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 48.8584,\n            \"longitude\": 2.2945\n          },\n          \"ticketPricing\": {\n            \"entranceFee\": 0\n          },\n          \"rating\": 4.4,\n          \"timeToTravelFromHotel\": \"Varies depending on the meeting point of the tour (usually central Paris)\",\n          \"bestTimeToVisit\": \"Morning (check tour schedules)\"\n        },\n        {\n          \"placeName\": \"Luxembourg Gardens\",\n          \"placeDetails\": \"Relax in the beautiful Luxembourg Gardens. Admire the Medici Fountain, rent a small sailboat to float on the pond, or simply enjoy the atmosphere.\",\n          \"placeImageURL\": \"https://example.com/luxembourg_gardens.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 48.8452,\n            \"longitude\": 2.3370\n          },\n          \"ticketPricing\": {\n            \"entranceFee\": 0,\n            \"boatRental\": 4\n          },\n          \"rating\": 4.6,\n          \"timeToTravelFromHotel\": \"15-30 minutes by Metro from central Paris.\",\n          \"bestTimeToVisit\": \"Afternoon\"\n        },\n        {\n          \"placeName\": \"Latin Quarter\",\n          \"placeDetails\": \"Wander through the historic Latin Quarter, known for its student atmosphere and charming streets. Visit the Shakespeare and Company bookstore.\",\n          \"placeImageURL\": \"https://example.com/latin_quarter.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 48.8530,\n            \"longitude\": 2.3460\n          },\n          \"ticketPricing\": {\n            \"entranceFee\": 0\n          },\n          \"rating\": 4.3,\n          \"timeToTravelFromHotel\": \"Walking distance from Luxembourg Gardens or a short Metro ride\",\n          \"bestTimeToVisit\": \"Late afternoon/early evening\"\n        }\n      ]\n    },\n    \"day3\": {\n      \"theme\": \"Canal Saint-Martin & Parisian Markets\",\n      \"bestTimeToTravel\": \"Morning to Afternoon\",\n      \"places\": [\n        {\n          \"placeName\": \"Canal Saint-Martin\",\n          \"placeDetails\": \"Take a stroll along the trendy Canal Saint-Martin. Enjoy the atmosphere, browse the independent shops, and have a picnic by the water.\",\n          \"placeImageURL\": \"https://example.com/canal_saint_martin.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 48.8689,\n            \"longitude\": 2.3650\n          },\n          \"ticketPricing\": {\n            \"entranceFee\": 0\n          },\n          \"rating\": 4.4,\n          \"timeToTravelFromHotel\": \"20-40 minutes by Metro (depending on hotel location)\",\n          \"bestTimeToVisit\": \"Late morning/early afternoon\"\n        },\n        {\n          \"placeName\": \"Marché des Enfants Rouges\",\n          \"placeDetails\": \"Visit Paris's oldest covered market, Marché des Enfants Rouges. Experience the local atmosphere and sample affordable food from various vendors.\",\n          \"placeImageURL\": \"https://example.com/marche_enfants_rouges.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 48.8634,\n            \"longitude\": 2.3610\n          },\n          \"ticketPricing\": {\n            \"entranceFee\": 0,\n            \"foodPricing\": \"Varies by vendor (budget around €10-€15 for lunch)\"\n          },\n          \"rating\": 4.5,\n          \"timeToTravelFromHotel\": \"Walking distance from Canal Saint-Martin\",\n          \"bestTimeToVisit\": \"Lunchtime\"\n        },\n        {\n          \"placeName\": \"Marais District\",\n          \"placeDetails\": \"Explore the Marais district with its beautiful architecture, hidden courtyards and falafel shops. Visit Place des Vosges, one of the oldest planned squares in Paris\",\n          \"placeImageURL\": \"https://example.com/marais.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 48.8578,\n            \"longitude\": 2.3576\n          },\n          \"ticketPricing\": {\n            \"entranceFee\": 0\n          },\n          \"rating\": 4.6,\n          \"timeToTravelFromHotel\": \"Short Metro Ride or Walk from Marche des Enfants Rouges\",\n          \"bestTimeToVisit\": \"Afternoon\"\n        }\n      ]\n    }\n  },\n  \"tipsForSavingMoney\": [\n    \"Utilize public transportation (Metro) – purchase a Navigo Easy card.\",\n    \"Take advantage of free activities like walking tours, parks, and window shopping.\",\n    \"Eat at local bakeries (boulangeries) and markets for affordable meals.\",\n    \"Look for 'menu du jour' lunch specials at restaurants.\",\n    \"Consider purchasing a museum pass if you plan to visit multiple museums (calculate if it's actually cheaper for your interests).\",\n    \"Pack snacks and drinks to avoid expensive tourist traps.\",\n    \"Drink tap water (it's safe in Paris).\",\n    \"Look for free events and festivals happening during your visit.\"\n  ]\n}\n```\n\n**Important Notes:**\n\n*   **Image URLs:**  The `hotelImageURL` and `placeImageURL` values are placeholders. You'll need to replace these with actual image URLs.\n*   **Hotel Prices:** Hotel prices can vary significantly depending on the season and availability. Check booking websites for the most up-to-date prices.  Prices are shown as average estimates for private rooms.\n*   **Metro:** Paris has an excellent Metro system. A Navigo Easy card is a rechargeable card that's cheaper than buying individual tickets.\n*   **Walking:**  Paris is a very walkable city, so take advantage of this to save on transportation costs.\n*   **Free Museum Days:**  Some museums in Paris offer free admission on the first Sunday of each month. Check the museum websites for details.  Be prepared for crowds.\n*   **Restaurant Tips:**  Service is usually included in restaurant prices (look for \"service compris\" on the menu).  It's customary to round up the bill slightly if you're happy with the service.\n*   **Safety:** Be aware of your surroundings, especially in crowded areas, and take precautions against pickpockets.\n\nThis itinerary is just a suggestion.  You can customize it to fit your interests and preferences. Have a great trip to Paris!\n"},
          ],
        },
      ],
    });
  
   
  
